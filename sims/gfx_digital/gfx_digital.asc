Version 4
SHEET 1 3060 2432
WIRE 416 -16 384 -16
WIRE -464 0 -544 0
WIRE -544 16 -544 0
WIRE 416 16 96 16
WIRE 1216 16 1152 16
WIRE 416 48 384 48
WIRE 1152 64 1152 16
WIRE 416 80 384 80
WIRE 416 112 384 112
WIRE -656 144 -656 128
WIRE 416 208 368 208
WIRE 784 208 640 208
WIRE -400 240 -416 240
WIRE -160 240 -176 240
WIRE 368 240 368 208
WIRE 416 240 368 240
WIRE 736 240 640 240
WIRE 928 240 736 240
WIRE -656 256 -656 208
WIRE -608 256 -656 256
WIRE -416 256 -416 240
WIRE -416 256 -496 256
WIRE -176 256 -176 240
WIRE -176 256 -208 256
WIRE 48 256 32 256
WIRE -656 272 -656 256
WIRE 368 272 368 240
WIRE 416 272 368 272
WIRE 880 272 640 272
WIRE 928 272 880 272
WIRE 1152 272 1136 272
WIRE -400 288 -432 288
WIRE -160 288 -192 288
WIRE 1280 288 1264 288
WIRE 368 304 368 272
WIRE 416 304 368 304
WIRE 768 304 640 304
WIRE 896 304 768 304
WIRE 928 304 896 304
WIRE 1136 304 1136 272
WIRE 1136 304 1040 304
WIRE 1152 304 1136 304
WIRE 48 320 32 320
WIRE 368 320 368 304
WIRE -416 336 -416 256
WIRE -400 336 -416 336
WIRE -176 336 -176 256
WIRE -160 336 -176 336
WIRE 896 336 896 304
WIRE 1040 336 1040 304
WIRE 1040 336 896 336
WIRE 672 352 640 352
WIRE -656 368 -656 352
WIRE 784 368 784 208
WIRE 800 368 784 368
WIRE 880 368 880 272
WIRE 928 368 880 368
WIRE 1056 368 1040 368
WIRE 1040 384 1040 368
WIRE 1200 384 1168 384
WIRE 768 400 768 304
WIRE 800 400 768 400
WIRE 928 400 912 400
WIRE 1040 400 1040 384
WIRE 1056 400 1040 400
WIRE -624 416 -624 400
WIRE 736 432 736 240
WIRE 800 432 736 432
WIRE 96 464 96 16
WIRE 1200 464 1200 384
WIRE 1200 464 96 464
WIRE 1696 480 1680 480
WIRE -624 496 -624 480
WIRE -560 496 -624 496
WIRE -304 496 -304 400
WIRE -304 496 -448 496
WIRE -64 496 -64 400
WIRE -64 496 -304 496
WIRE 1264 496 256 496
WIRE -624 512 -624 496
WIRE 1472 544 1456 544
WIRE 1648 560 1584 560
WIRE 1680 560 1680 480
WIRE 1680 560 1648 560
WIRE 1760 560 1760 480
WIRE 1776 560 1760 560
WIRE 1824 560 1776 560
WIRE 1984 560 1936 560
WIRE 1472 576 1456 576
WIRE -624 608 -624 592
WIRE 336 608 208 608
WIRE 528 608 448 608
WIRE 1776 608 1776 560
WIRE -528 640 -624 640
WIRE -416 640 -528 640
WIRE -400 640 -416 640
WIRE 256 640 256 496
WIRE 336 640 256 640
WIRE 720 640 720 624
WIRE 832 640 720 640
WIRE 912 640 832 640
WIRE 976 640 912 640
WIRE -144 656 -208 656
WIRE -128 656 -128 640
WIRE -128 656 -144 656
WIRE 976 656 976 640
WIRE 1072 656 976 656
WIRE 1264 672 1264 496
WIRE -624 688 -624 640
WIRE -400 688 -432 688
WIRE -128 688 -160 688
WIRE 768 688 720 688
WIRE 1776 688 1776 672
WIRE 208 720 208 608
WIRE 208 720 64 720
WIRE -416 736 -416 640
WIRE -400 736 -416 736
WIRE -144 736 -144 656
WIRE -128 736 -144 736
WIRE 384 736 368 736
WIRE 400 736 384 736
WIRE 1360 736 1264 736
WIRE 528 752 528 704
WIRE 528 752 512 752
WIRE 976 752 976 656
WIRE 1072 752 976 752
WIRE 384 768 384 736
WIRE 400 768 384 768
WIRE -624 784 -624 768
WIRE 624 784 624 768
WIRE 624 784 608 784
WIRE 912 784 912 640
WIRE -304 816 -304 800
WIRE -304 816 -336 816
WIRE -32 816 -32 800
WIRE -32 816 -304 816
WIRE 528 816 528 752
WIRE 912 816 528 816
WIRE 1168 816 1136 816
WIRE 192 848 128 848
WIRE 704 848 640 848
WIRE 128 896 128 848
WIRE 640 896 640 848
WIRE 1504 912 1488 912
WIRE 1648 928 1616 928
WIRE -400 944 -432 944
WIRE 1504 944 1488 944
WIRE -608 960 -624 960
WIRE -400 976 -496 976
WIRE -608 992 -624 992
WIRE -400 1008 -432 1008
WIRE -400 1040 -432 1040
WIRE 976 1040 816 1040
WIRE 1376 1040 1360 1040
WIRE 320 1056 272 1056
WIRE 1488 1056 1488 944
WIRE 1520 1056 1488 1056
WIRE -400 1072 -432 1072
WIRE 816 1072 816 1040
WIRE 1376 1072 1360 1072
WIRE 320 1088 272 1088
WIRE 224 1152 80 1152
WIRE 320 1152 224 1152
WIRE 576 1152 512 1152
WIRE -400 1168 -416 1168
WIRE 80 1168 80 1152
WIRE 80 1168 -176 1168
WIRE 224 1184 80 1184
WIRE 320 1184 224 1184
WIRE 576 1184 512 1184
WIRE 976 1184 816 1184
WIRE -416 1200 -416 1168
WIRE -400 1200 -416 1200
WIRE 80 1200 80 1184
WIRE 80 1200 -176 1200
WIRE 224 1216 80 1216
WIRE 320 1216 224 1216
WIRE 576 1216 512 1216
WIRE 816 1216 816 1184
WIRE -416 1232 -416 1200
WIRE -400 1232 -416 1232
WIRE 80 1232 80 1216
WIRE 80 1232 -176 1232
WIRE 320 1248 80 1248
WIRE 576 1248 512 1248
WIRE -416 1264 -416 1232
WIRE -400 1264 -416 1264
WIRE -144 1264 -176 1264
WIRE 80 1264 80 1248
WIRE 80 1264 -144 1264
WIRE -416 1280 -416 1264
WIRE 320 1280 240 1280
WIRE 576 1280 512 1280
WIRE 320 1312 240 1312
WIRE 576 1312 512 1312
WIRE 320 1344 240 1344
WIRE 576 1344 512 1344
WIRE -624 1360 -624 992
WIRE -144 1360 -144 1264
WIRE -144 1360 -624 1360
WIRE -112 1360 -144 1360
WIRE 320 1376 240 1376
WIRE 576 1376 512 1376
WIRE 688 1392 672 1392
WIRE 832 1392 816 1392
WIRE 688 1424 672 1424
WIRE 688 1456 672 1456
WIRE 1536 1472 1520 1472
WIRE 688 1488 672 1488
WIRE 1328 1488 1312 1488
WIRE 1536 1504 1440 1504
WIRE -448 1520 -480 1520
WIRE 688 1520 672 1520
WIRE 1328 1520 1312 1520
WIRE 1536 1536 1504 1536
WIRE -448 1552 -480 1552
WIRE 688 1552 672 1552
WIRE 1168 1568 864 1568
WIRE 1504 1568 1392 1568
WIRE 1536 1568 1504 1568
WIRE -448 1584 -592 1584
WIRE 0 1584 -64 1584
WIRE 208 1584 128 1584
WIRE 320 1584 208 1584
WIRE 544 1584 512 1584
WIRE 688 1584 544 1584
WIRE 1168 1600 1168 1568
WIRE 1264 1600 1168 1600
WIRE 1536 1600 1504 1600
WIRE -448 1616 -480 1616
WIRE 0 1616 -64 1616
WIRE 208 1616 128 1616
WIRE 320 1616 208 1616
WIRE 544 1616 512 1616
WIRE 688 1616 544 1616
WIRE 1392 1616 1392 1568
WIRE 1392 1616 1376 1616
WIRE -448 1648 -480 1648
WIRE 0 1648 -64 1648
WIRE 208 1648 128 1648
WIRE 320 1648 208 1648
WIRE 544 1648 512 1648
WIRE 688 1648 544 1648
WIRE 1264 1648 1264 1632
WIRE 1264 1648 1104 1648
WIRE -720 1664 -736 1664
WIRE -592 1680 -592 1584
WIRE -592 1680 -608 1680
WIRE 208 1680 128 1680
WIRE 320 1680 208 1680
WIRE 544 1680 512 1680
WIRE 688 1680 544 1680
WIRE -736 1696 -736 1664
WIRE -736 1696 -752 1696
WIRE -720 1696 -736 1696
WIRE 1536 1696 1520 1696
WIRE 1776 1696 1760 1696
WIRE 1808 1696 1776 1696
WIRE 208 1712 128 1712
WIRE 320 1712 208 1712
WIRE 544 1712 512 1712
WIRE 688 1712 544 1712
WIRE 1520 1728 1520 1696
WIRE 1536 1728 1520 1728
WIRE 1808 1728 1760 1728
WIRE -448 1744 -464 1744
WIRE -96 1744 -224 1744
WIRE 0 1744 -96 1744
WIRE 208 1744 128 1744
WIRE 320 1744 208 1744
WIRE 544 1744 512 1744
WIRE 688 1744 544 1744
WIRE 1520 1760 1520 1728
WIRE 1536 1760 1520 1760
WIRE 1808 1760 1760 1760
WIRE -464 1776 -464 1744
WIRE -448 1776 -464 1776
WIRE -96 1776 -224 1776
WIRE 0 1776 -96 1776
WIRE 208 1776 128 1776
WIRE 320 1776 208 1776
WIRE 544 1776 512 1776
WIRE 1520 1792 1520 1760
WIRE 1536 1792 1520 1792
WIRE 1808 1792 1760 1792
WIRE -464 1808 -464 1776
WIRE -448 1808 -464 1808
WIRE -96 1808 -224 1808
WIRE 0 1808 -96 1808
WIRE 208 1808 128 1808
WIRE 320 1808 208 1808
WIRE 544 1808 512 1808
WIRE 1520 1808 1520 1792
WIRE -464 1840 -464 1808
WIRE -448 1840 -464 1840
WIRE -464 1856 -464 1840
WIRE -752 1952 -752 1696
WIRE 864 1952 864 1568
WIRE 864 1952 -752 1952
FLAG -480 -96 0
FLAG -480 -176 V+
FLAG -416 -96 0
FLAG -416 -176 +9
FLAG -352 -96 0
FLAG -352 -176 -9
FLAG -544 96 0
FLAG -432 288 clock
FLAG -304 176 V+
FLAG -624 400 V+
FLAG -624 608 0
FLAG -656 368 0
FLAG -656 128 V+
FLAG -64 176 V+
FLAG -192 288 clock
FLAG 48 256 _por
FLAG 48 320 por
FLAG 368 320 0
FLAG 384 112 clock
FLAG 384 48 V+
FLAG 928 240 hdot0
FLAG 928 272 hdot1
FLAG 928 304 hdot2
FLAG -432 688 clock
FLAG -304 576 V+
FLAG -32 576 V+
FLAG -160 688 clock
FLAG -336 816 _por
FLAG -624 784 0
FLAG -528 640 DISP
FLAG 528 656 clock
FLAG 624 544 v+
FLAG 608 784 _por
FLAG -432 1008 V+
FLAG -432 1040 V+
FLAG -624 960 predone
FLAG -112 1360 preblank
FLAG -432 1072 posclk
FLAG -416 1280 0
FLAG 224 1152 posreq0
FLAG 224 1184 posreq1
FLAG 224 1216 posreq2
FLAG 576 1152 pos0
FLAG 576 1184 pos1
FLAG 576 1216 pos2
FLAG 272 1088 posclk
FLAG -64 1584 posreq0
FLAG -64 1616 posreq1
FLAG -64 1648 posreq2
FLAG 208 1584 charrsp0
FLAG 208 1616 charrsp1
FLAG 208 1648 charrsp2
FLAG 208 1680 charrsp3
FLAG 208 1712 charrsp4
FLAG 208 1744 charrsp5
FLAG 208 1776 brightenrsp
FLAG 208 1808 dimrsp
FLAG 320 1520 posclk
FLAG 544 1584 char0
FLAG 544 1616 char1
FLAG 544 1648 char2
FLAG 544 1680 char3
FLAG 544 1712 char4
FLAG 544 1744 char5
FLAG 544 1776 brighten
FLAG 544 1808 dim
FLAG 576 1248 interfield_blank
FLAG 1152 144 0
FLAG 1216 16 hdot
FLAG 128 976 0
FLAG 192 848 posreq
FLAG 640 976 0
FLAG 704 848 pos
FLAG -480 1616 V+
FLAG -480 1648 posclk
FLAG -464 1856 0
FLAG -96 1744 fieldreq0
FLAG -96 1776 fieldreq1
FLAG -96 1808 fieldreq2
FLAG 240 1280 fieldreq0
FLAG 240 1312 fieldreq1
FLAG 240 1344 fieldreq2
FLAG 576 1280 field0
FLAG 576 1312 field1
FLAG 576 1344 field2
FLAG 672 1488 hdot0
FLAG 672 1520 hdot1
FLAG 672 1552 hdot2
FLAG 672 1456 line2
FLAG 672 1424 line1
FLAG 672 1392 line0
FLAG 832 1392 pix_blank
FLAG 1520 1472 _rst
FLAG 1504 1600 posclk
FLAG 1520 1808 0
FLAG 1312 1520 _DISP_SYNC
FLAG 992 1616 fieldreq0
FLAG 992 1648 fieldreq1
FLAG 992 1680 fieldreq2
FLAG 1808 1696 line0
FLAG 1808 1728 line1
FLAG 1808 1760 line2
FLAG 816 1296 0
FLAG 976 1184 field
FLAG 816 1152 0
FLAG 976 1040 fieldreq
FLAG 1504 1536 V+
FLAG 1504 1568 nextline
FLAG 1776 1696 predone
FLAG 240 1376 predone
FLAG 1360 736 DONE
FLAG 1360 1040 interfield_blank
FLAG 1360 1072 pix_blank
FLAG 1520 1056 _blank
FLAG 1072 704 posclk
FLAG 576 1376 donereq
FLAG 368 736 donereq
FLAG -864 1664 posreq0
FLAG -864 1696 posreq1
FLAG -864 1728 posreq2
FLAG 1648 928 blankout
FLAG 1488 912 _DISP_SYNC
FLAG 768 688 _DISP_SYNC
FLAG 832 640 DISP_SYNC
FLAG 1456 544 _por
FLAG 1456 576 DISP_SYNC
FLAG 1984 560 _rst
FLAG -480 1520 _rst
FLAG 384 -16 _rst
FLAG 1648 560 rst
FLAG 272 1056 DISP_SYNC
FLAG 320 1488 DISP_SYNC
FLAG 1312 1488 predone
FLAG -432 944 _rst
FLAG -480 1552 V+
FLAG 384 80 DISP_SYNC
FLAG 1776 688 0
FLAG 1280 288 posclk
FLAG -464 0 clock
FLAG 1168 592 v+
SYMBOL voltage -480 -192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -416 -192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 9
SYMBOL voltage -352 -192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value -9
SYMBOL voltage -544 0 R0
WINDOW 3 -4 -25 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 5 0 {tr} {tr} {0.5/freq-tr} {1/freq})
SYMATTR InstName V4
SYMBOL Digital\\74HC\\74hc14 -560 208 R0
SYMATTR InstName U2
SYMBOL cap -640 416 R0
SYMATTR InstName C1
SYMATTR Value 100p
SYMBOL res -640 496 R0
SYMATTR InstName R1
SYMATTR Value 22k
SYMBOL Digital\\74HC\\74hc14 -512 448 R0
SYMATTR InstName U3
SYMBOL res -672 256 R0
SYMATTR InstName R2
SYMATTR Value 62k
SYMBOL cap -672 144 R0
SYMATTR InstName C2
SYMATTR Value 100p
SYMBOL Digital\\74HC\\74hc02 976 320 R0
SYMATTR InstName U7
SYMBOL voltage -624 672 R0
WINDOW 3 -150 149 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 5 100u 50n 50n 100u)
SYMATTR InstName V5
SYMBOL Digital\\74HC\\74hc109 624 544 R0
SYMATTR InstName U11
SYMATTR SpiceLine VCC=5  SPEED=1.0  TRIPDT=1e-9 TD=44n
SYMBOL Digital\\74HC\\74hc109 -304 576 R0
SYMATTR InstName U8
SYMATTR SpiceLine VCC=5  SPEED=1.0  TRIPDT=1e-9 TD=44n
SYMBOL Digital\\74HC\\74hc109 -32 576 R0
SYMATTR InstName U9
SYMATTR SpiceLine VCC=5  SPEED=1.0  TRIPDT=1e-9 TD=44n
SYMBOL Digital\\74HC\\74hc109 -304 176 R0
SYMATTR InstName U1
SYMATTR SpiceLine VCC=5  SPEED=1.0  TRIPDT=1e-9 TD=44n
SYMBOL Digital\\74HC\\74hc109 -64 176 R0
SYMATTR InstName U4
SYMATTR SpiceLine VCC=5  SPEED=1.0  TRIPDT=1e-9 TD=44n
SYMBOL Digital\\74HC\\74hc273 416 992 R0
SYMATTR InstName U19
SYMATTR SpiceLine VCC=5  SPEED=1.0  TRIPDT=1e-9 TD=45n
SYMBOL Digital\\74HC\\74hc273 416 1424 R0
SYMATTR InstName U20
SYMATTR SpiceLine VCC=5  SPEED=1.0  TRIPDT=1e-9 TD=45n
SYMBOL bv 1152 48 R0
SYMATTR InstName B1
SYMATTR Value V=(V(hdot0)+2*V(hdot1)+4*V(hdot2))/5
SYMBOL bv 128 880 R0
SYMATTR InstName B2
SYMATTR Value V=(V(posreq0)+2*V(posreq1)+4*V(posreq2))/5
SYMBOL bv 640 880 R0
SYMATTR InstName B3
SYMATTR Value V=(V(pos0)+2*V(pos1)+4*V(pos2))/5
SYMBOL Digital\\74HC\\74hc10 1040 1568 R0
WINDOW 0 -40 16 Left 2
SYMATTR InstName U24
SYMBOL bv 816 1200 R0
SYMATTR InstName B4
SYMATTR Value V=(V(field0)+2*V(field1)+4*V(field2))/5
SYMBOL bv 816 1056 R0
SYMATTR InstName B5
SYMATTR Value V=(V(fieldreq0)+2*V(fieldreq1)+4*V(fieldreq2))/5
SYMBOL Digital\\74HC\\74hc02 1312 1552 R0
SYMATTR InstName U26
SYMBOL Digital\\74HC\\74hc109 1168 592 R0
SYMATTR InstName U30
SYMATTR SpiceLine VCC=5  SPEED=1.0  TRIPDT=1e-9 TD=44n
SYMBOL Digital\\74HC\\74hc10 -816 1616 R0
WINDOW 0 -40 16 Left 2
SYMATTR InstName U35
SYMBOL Digital\\74HC\\74hc02 -672 1616 R0
SYMATTR InstName U36
SYMBOL Digital\\74HC\\74hc02 1424 992 R0
SYMATTR InstName U25
SYMBOL Digital\\74HC\\74hc02 1552 864 R0
SYMATTR InstName U28
SYMBOL Digital\\74HC\\74hc00 448 688 R0
SYMATTR InstName U29
SYMBOL Digital\\74HC\\74hc02 960 736 R0
SYMATTR InstName U12
SYMBOL Digital\\74HC\\74hc02 1072 752 R0
SYMATTR InstName U13
SYMBOL Digital\\74HC\\74hc00 1520 496 R0
SYMATTR InstName U21
SYMBOL Digital\\74HC\\74hc27 384 528 R0
SYMATTR InstName U10
SYMBOL Digital\\74HC\\74hc161 1648 1392 R0
SYMATTR InstName U22
SYMBOL Digital\\74HC\\74hc02 1376 1440 R0
SYMATTR InstName U23
SYMBOL Digital\\74HC\\74hc02 -560 912 R0
SYMATTR InstName U15
SYMBOL Digital\\74HC\\74hc02 1104 320 R0
SYMATTR InstName U18
SYMBOL res 1776 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 33k
SYMBOL cap 1760 608 R0
SYMATTR InstName C3
SYMATTR Value 10p
SYMBOL Digital\\74HC\\74hc14 1872 512 R0
SYMATTR InstName U27
SYMBOL diode 1696 496 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL Digital\\74HC\\74hc161 528 -96 R0
SYMATTR InstName U5
SYMBOL Digital\\74HC\\74hc161 -288 864 R0
SYMATTR InstName U14
SYMBOL Digital\\74HC\\74hc161 -336 1440 R0
SYMATTR InstName U17
SYMBOL Digital\\74HC\\74hc00 1200 224 R0
SYMATTR InstName U31
SYMBOL Digital\\74HC\\74hc10 848 320 R0
WINDOW 0 -40 16 Left 2
SYMATTR InstName U16
TEXT -776 -128 Left 2 !.param tr 25n\n.param freq 1Meg
TEXT -784 -56 Left 2 !.tran 20m uic
TEXT 440 -448 Left 2 ;dot = 5µA\nchar width = 6; char = 30µA\n8 chars per cell, cell = 240µA\ninter-cell space: 3 chars or 90µA\ncell with space: 330µA\n \nCELL0   CELL1   CELL2   CELL3\n0µA     330µA   660µA   990µA\n \n0µA  240µA480µA         900µA\nCELL4CELL5CELL6         CELL7
TEXT -328 -320 Left 2 ;Character encoding notes:\nCharacters are 5 pix wide, but encoded at 6. The 6th should be\nthe inter-character space, and should come FIRST (as the\ninter-field blanking eats into it)
TEXT -320 840 Left 2 ;Sync DISP to clock
TEXT -8 824 Left 2 ;Sync DISP to first dot, stretch DONE at least one entire cycle
TEXT 328 408 Left 2 ;DOT COUNTER\ncounts 0 through 5
TEXT -432 1376 Left 2 ;POS COUNTER\ncounts 0 through 8
TEXT 24 1608 Left 2 ;SYSTEM\nBUS
TEXT 720 1584 Left 2 ;FONT\nROM
TEXT 1464 648 Left 2 ;Deassert at approx 90°+clk
RECTANGLE Normal 128 1840 0 1568 2
RECTANGLE Normal 816 1776 688 1376 2
